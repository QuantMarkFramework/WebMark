{% extends "rest_framework/base.html" %}

{% block title %}QuantMark2 LeaderBoard{% endblock %}

{% block style %}
  {{ block.super }}
  <style type="text/css">
    .clickable-row{
      cursor:pointer;
      }
      .clickable-row:hover {
        background-color: #eeeeee;
      }
  </style>
{% endblock %}

{% block content %}
<div class="starter-template">
  <h1>QuantMark2 LeaderBoard</h1>
  <a href="/api/"> API </a>
  <table width="100%">
    <thead>
      <th>Batch id</th>
      <th>Result id</th>
      <th>Date</th>
      <th>Energy</th>
      <th>Distance</th>
    </thead>
    {% for result in results %}
    <tr class='clickable-row' data-href='/api/{{ result.batch_id }}'>
      <td>{{result.batch_id}}</td>
      <td>{{ result.id }}</td>
      <td>{{ result.created|date:"Y-m-d H:i" }}</td>
      <td>{{ result.energy }}</td>
      <td>{{ result.distance }}</td>
    </tr>
    {% endfor %}
  </table>
</div>
{% endblock %}

{% block script %}
  {{ block.super }}
  <script>
    $(document).ready(function($) {
      $(".clickable-row").click(function() {
          console.log($(this).data("href"))
          window.location = $(this).data("href");
      });
    });
</script>
{% endblock %}